# .github/workflows/wake_up.yml
name: Wake up periodically
on:
  schedule:
    - cron: '0 0 */5 * *' # 매 5일마다 실행, 자정에 실행
  workflow_dispatch: # 수동 실행용
jobs:
  send_request:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Send request
        if: github.event_name != 'pull_request'
        run: |
          echo "Calling wake-up API..."
          response=$(curl --silent --show-error --location --write-out "\n%{http_code}" "${{ secrets.MY_API_ENDPOINT }}/api/wake-up")
          body=$(echo "$response" | sed '$d')
          code=$(echo "$response" | tail -n1)

          echo "✅ Status code: $code"
          echo "✅ Response body:"
          echo "$body"
